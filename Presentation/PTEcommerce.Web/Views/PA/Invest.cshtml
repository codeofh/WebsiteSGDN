
@{
    ViewBag.Title = "Invest";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var listPkgDay = (List<marketplace.Pakages>)ViewBag.ListPakageDay;
    var listPkgMonth = (List<marketplace.Pakages>)ViewBag.ListPakageMonth;
}
@section css{
    <style>
        .tableCustomer .card {
            border-radius: 0.5rem;
            margin-top: 15px;
        }

        .tableCustomer .card-body {
            padding: 1rem;
            text-align: center;
            font-size: 20px;
            border-top-left-radius: 0.5rem;
            border: 1px solid #fff;
            border-top-right-radius: 0.5rem;
            background-color: #fff;
        }

        .tableCustomer .card-footer {
            border-bottom-left-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
            font-size: 15px;
            color: #0f171c;
        }

        .pakage-col {
            display: flex;
            align-items: center;
            font-weight: 600;
            font-size: 25px;
            color: #FFF005;
            text-shadow: 2px 0 #D3882D, -2px 0 #D3882D, 0 2px #D3882D, 0 -2px #D3882D, 1px 1px #D3882D, -1px -1px #D3882D, 1px -1px #D3882D, -1px 1px #D3882D;
        }
    </style>
}
<div class="card w-100">
    <div class="card-body">
        <h2 class="mb-4">Đầu tư</h2>
        <h4 style="border-bottom: 1px solid #e3e4e5; padding-bottom: 15px; margin-top: 20px">
            Gói đầu tư ngày
        </h4>
        @if (listPkgDay != null && listPkgDay.Count > 0)
        {
            <div class="row tableCustomer">
                @{
                    var list1 = listPkgDay.Where(x => x.Type == 1).Skip(0).Take(5).ToList();
                }
                @foreach (var item in list1)
                {

                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col p-0">
                                        <img src="~/Assets/assets/images/pakage.png" width="40px" />
                                    </div>
                                    <div class="col p-0 pakage-col">@item.Name</div>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <div class="row mb-2">
                                    <div class="col-auto">Vốn</div>
                                    <div class="col text-end">
                                        @PTEcommerce.Business.Helper.NumberFormat(item.Prices)$
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-auto">Lãi</div>
                                    <div class="col text-end">
                                        @if (item.MinRate == item.MaxRate)
                                        {
                                            <span>@item.MinRate%</span>
                                        }
                                        else
                                        {
                                            <span>@item.MinRate% - @item.MaxRate%</span>
                                        }
                                    </div>
                                </div>
                                <div class="mb-2 mt-3 text-center">
                                    <button type="button" class="btn btn-primary w-100 btnShowConfirmBuy" data-name="@item.Name" data-id="@item.Id">Mua</button>
                                </div>
                            </div>
                        </div>
                    </div>

                }
            </div>
            <div class="row tableCustomer">
                @{
                    var list2 = listPkgDay.Where(x => x.Type == 1).Skip(5).Take(10).ToList();
                }
                @foreach (var item in list2)
                {
                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col p-0">
                                        <img src="~/Assets/assets/images/pakage.png" width="40px" />
                                    </div>
                                    <div class="col p-0 pakage-col">@item.Name</div>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <div class="row mb-2">
                                    <div class="col-auto">Vốn</div>
                                    <div class="col text-end">
                                        @PTEcommerce.Business.Helper.NumberFormat(item.Prices)$
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-auto">Lãi</div>
                                    <div class="col text-end">
                                        @if (item.MinRate == item.MaxRate)
                                        {
                                            <span>@item.MinRate%</span>
                                        }
                                        else
                                        {
                                            <span>@item.MinRate% - @item.MaxRate%</span>
                                        }
                                    </div>
                                </div>
                                <div class="mb-2 mt-3 text-center">
                                    <button type="button" class="btn btn-primary w-100 btnShowConfirmBuy" data-name="@item.Name" data-id="@item.Id">Mua</button>
                                </div>
                            </div>
                        </div>
                    </div>

                }
            </div>
        }
        else
        {
            <svg xmlns="http://www.w3.org/2000/svg" class="LwgoY" viewBox="0 0 49 48" width="48" height="48"><path fill-rule="evenodd" clip-rule="evenodd" d="M24 4C17.9249 4 13 8.92487 13 15V18H12C9.23858 18 7 20.2386 7 23V32C7 38.6274 12.3726 44 19 44H29C35.6274 44 41 38.6274 41 32V23C41 20.2386 38.7614 18 36 18H35V15C35 8.92487 30.0751 4 24 4ZM33 18V15C33 10.0294 28.9706 6 24 6C19.0294 6 15 10.0294 15 15V18H33ZM9 23C9 21.3431 10.3431 20 12 20H36C37.6569 20 39 21.3431 39 23V32C39 37.5229 34.5228 42 29 42H19C13.4772 42 9 37.5228 9 32V23Z" fill="#2C3033"></path><path d="M11 25C11 23.3431 12.3431 22 14 22H34C35.6569 22 37 23.3431 37 25V31C37 35.9706 32.9706 40 28 40H20C15.0294 40 11 35.9706 11 31V25Z" fill="#FFCF01"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M28.2049 27.7079C28.5952 27.3172 28.5952 26.6837 28.2049 26.293C27.8145 25.9023 27.1817 25.9023 26.7913 26.293L24.0015 29.0854L21.2077 26.2935C20.817 25.9031 20.1836 25.9031 19.793 26.2935C19.4023 26.6839 19.4023 27.3169 19.793 27.7073L22.5879 30.5003L19.7953 33.2955C19.4049 33.6862 19.4049 34.3197 19.7953 34.7104C20.1856 35.1011 20.8185 35.1011 21.2088 34.7104L24.0026 31.9141L26.7946 34.7042C27.1853 35.0946 27.8187 35.0946 28.2093 34.7042C28.6 34.3138 28.6 33.6809 28.2093 33.2905L25.4162 30.4992L28.2049 27.7079Z" fill="black"></path></svg>
            <h4 class="mt-3">Không có gói đầu tư khả dụng nào.</h4>
            <p class="mb-1 text-secondary">Vui lòng chờ đợi các gói đầu tư mới.</p>
        }
        <h4 style="border-bottom: 1px solid #e3e4e5; padding-bottom: 15px; margin-top: 30px">
            Gói đầu tư tháng
        </h4>
        @if (listPkgMonth != null && listPkgMonth.Count > 0)
        {
            <div class="row tableCustomer">
                @{
                    var list1 = listPkgMonth.Where(x => x.Type != 1).Skip(0).Take(5).ToList();
                }
                @foreach (var item in list1)
                {

                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col p-0">
                                        <img src="~/Assets/assets/images/pakage.png" width="40px" />
                                    </div>
                                    <div class="col p-0 pakage-col">@item.Name</div>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <div class="row mb-2">
                                    <div class="col-auto">Vốn</div>
                                    <div class="col text-end">
                                        @PTEcommerce.Business.Helper.NumberFormat(item.Prices)$
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-auto">Lãi</div>
                                    <div class="col text-end">
                                        @if (item.MinRate == item.MaxRate)
                                        {
                                            <span>@item.MinRate%</span>
                                        }
                                        else
                                        {
                                            <span>@item.MinRate% - @item.MaxRate%</span>
                                        }
                                    </div>
                                </div>
                                <div class="mb-2 mt-3 text-center">
                                    <button type="button" class="btn btn-primary w-100 btnShowConfirmBuy" data-name="@item.Name" data-id="@item.Id">Mua</button>
                                </div>
                            </div>
                        </div>
                    </div>

                }
            </div>
        }
        else
        {
            <svg xmlns="http://www.w3.org/2000/svg" class="LwgoY" viewBox="0 0 49 48" width="48" height="48"><path fill-rule="evenodd" clip-rule="evenodd" d="M24 4C17.9249 4 13 8.92487 13 15V18H12C9.23858 18 7 20.2386 7 23V32C7 38.6274 12.3726 44 19 44H29C35.6274 44 41 38.6274 41 32V23C41 20.2386 38.7614 18 36 18H35V15C35 8.92487 30.0751 4 24 4ZM33 18V15C33 10.0294 28.9706 6 24 6C19.0294 6 15 10.0294 15 15V18H33ZM9 23C9 21.3431 10.3431 20 12 20H36C37.6569 20 39 21.3431 39 23V32C39 37.5229 34.5228 42 29 42H19C13.4772 42 9 37.5228 9 32V23Z" fill="#2C3033"></path><path d="M11 25C11 23.3431 12.3431 22 14 22H34C35.6569 22 37 23.3431 37 25V31C37 35.9706 32.9706 40 28 40H20C15.0294 40 11 35.9706 11 31V25Z" fill="#FFCF01"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M28.2049 27.7079C28.5952 27.3172 28.5952 26.6837 28.2049 26.293C27.8145 25.9023 27.1817 25.9023 26.7913 26.293L24.0015 29.0854L21.2077 26.2935C20.817 25.9031 20.1836 25.9031 19.793 26.2935C19.4023 26.6839 19.4023 27.3169 19.793 27.7073L22.5879 30.5003L19.7953 33.2955C19.4049 33.6862 19.4049 34.3197 19.7953 34.7104C20.1856 35.1011 20.8185 35.1011 21.2088 34.7104L24.0026 31.9141L26.7946 34.7042C27.1853 35.0946 27.8187 35.0946 28.2093 34.7042C28.6 34.3138 28.6 33.6809 28.2093 33.2905L25.4162 30.4992L28.2049 27.7079Z" fill="black"></path></svg>
            <h4 class="mt-3">Không có gói đầu tư khả dụng nào.</h4>
            <p class="mb-1 text-secondary">Vui lòng chờ đợi các gói đầu tư mới.</p>
        }
    </div>
</div>

<div id="modalShowNotEnough" class="modal fade" tabindex="-1" data-bs-backdrop="static" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content p-3">
            <div class="modal-body text-center">
                <span class="text-dark fs-20">Tài khoản của quý khách không đủ, quý khách nạp thêm tiền chứ?</span>
                <div class="row mt-4">
                    <div class="col-lg-6">
                        <button type="button" onclick="window.location.href='/pa/deposit'" class="btn btn-primary w-100">Nạp</button>
                    </div>
                    <div class="col-lg-6">
                        <button type="button" class="btn btn-light w-100" data-bs-dismiss="modal">Quay lại</button>
                    </div>
                </div>
            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="modalShowConfirmBuy" class="modal fade" tabindex="-1" data-bs-backdrop="static" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content p-3">
            <div class="modal-body text-center">
                <input type="text" class="d-none" id="txtSubmitIdBuy" />
                <span class="text-dark fs-20">Bạn có muốn mua khoản đầu tư <b id="btnPakageName" class="text-success"></b> không?</span>
                <div class="row mt-4">
                    <div class="col-lg-6">
                        <button type="button" id="btnConfirmBuyPakage" class="btn btn-primary w-100">Xác nhận</button>
                    </div>
                    <div class="col-lg-6">
                        <button type="button" class="btn btn-light w-100" data-bs-dismiss="modal">Quay lại</button>
                    </div>
                </div>
            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="modalShowError" class="modal fade" tabindex="-1" data-bs-backdrop="static" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content p-3">
            <div class="modal-body text-center">
                <span class="text-dark fs-20" id="txtShowError"></span>
                <div class="row mt-4">
                    <div class="col-lg-6">

                    </div>
                    <div class="col-lg-6">
                        <button type="button" class="btn btn-light w-100" data-bs-dismiss="modal">Quay lại</button>
                    </div>
                </div>
            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
